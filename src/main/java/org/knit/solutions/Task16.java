package org.knit.solutions;

import org.knit.TaskDescription;
import org.knit.solutions.lab2_5.task16.Character2;
import org.knit.solutions.lab2_5.task16.CharacterFactory;

/**
 –ó–∞–¥–∞—á–∞:
 –†–µ–∞–ª–∏–∑—É–π—Ç–µ —Å–∏—Å—Ç–µ–º—É –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–∏–º–≤–æ–ª–æ–≤ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ —ç–∫—Ä–∞–Ω–µ.

 –ö–∞–∂–¥—ã–π —Å–∏–º–≤–æ–ª (Character) –∏–º–µ–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–∫–æ–¥ —Å–∏–º–≤–æ–ª–∞) –∏ –≤–Ω–µ—à–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã x, y –∏ —Å—Ç–∏–ª—å).
 –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –§–∞–±—Ä–∏–∫—É –ø—Ä–∏—Å–ø–æ—Å–æ–±–ª–µ–Ω—Ü–µ–≤, —á—Ç–æ–±—ã –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã —Å–∏–º–≤–æ–ª–æ–≤ –∏ —É–º–µ–Ω—å—à–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤, —Å–æ–∑–¥–∞–≤–∞–µ–º—ã—Ö –≤ —Å–∏—Å—Ç–µ–º–µ.
 üìå –ü–æ–¥—Å–∫–∞–∑–∫–∞:
 –í–Ω–µ—à–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –º–µ—Ç–æ–¥ render(), –∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –æ–±—ä–µ–∫—Ç–æ–≤, —Å–æ–∑–¥–∞–≤–∞–µ–º—ã—Ö —Ñ–∞–±—Ä–∏–∫–æ–π.
 */
@TaskDescription(taskNumber = 16, taskDescription = "–Ω–∞ –ø–∞—Ç—Ç–µ—Ä–Ω –ü—Ä–∏—Å–ø–æ—Å–æ–±–ª–µ–Ω–µ—Ü (Flyweight)")
public class Task16 implements Solution{

    @Override
    public void execute() {
        System.out.println("–ó–∞–¥–∞—á–∞ 16");
        CharacterFactory factory = new CharacterFactory();

        // –ü—Ä–∏–º–µ—Ä —Ç–µ–∫—Å—Ç–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
        String text = "HELLO, WORLD!";

        // –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–∏–º–≤–æ–ª–∞ –∏–∑ —Ç–µ–∫—Å—Ç–∞ –ø–æ–ª—É—á–∞–µ–º –æ–±—ä–µ–∫—Ç –∏–∑ —Ñ–∞–±—Ä–∏–∫–∏ –∏ –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º –µ–≥–æ
        // –î–æ–ø—É—Å—Ç–∏–º, –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥ (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∏ —Å—Ç–∏–ª—å) –≤—ã—á–∏—Å–ª—è–µ–º –ø—Ä–æ—Å—Ç—ã–º —Å–ø–æ—Å–æ–±–æ–º
        int x = 0;
        int y = 0;
        String style = "Bold";  // –ü—Ä–∏–º–µ—Ä —Å—Ç–∏–ª—è

        for (char c : text.toCharArray()) {
            // –ü–æ–ª—É—á–∞–µ–º –ø—Ä–∏—Å–ø–æ—Å–æ–±–ª–µ–Ω–µ—Ü –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ —Å–∏–º–≤–æ–ª–∞
            Character2 character = factory.getCharacter(c);
            // –ü–µ—Ä–µ–¥–∞–µ–º –≤–Ω–µ—à–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ –º–µ—Ç–æ–¥ render()
            character.render(x, y, style);
            // –ò–∑–º–µ–Ω—è–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É x –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å–∏–º–≤–æ–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–º–µ—â–µ–Ω–∏–µ –Ω–∞ 10 –ø–∏–∫—Å–µ–ª–µ–π)
            x += 10;
        }
    }
}